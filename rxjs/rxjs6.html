<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>rxjs</title>
  <style>
    body{
      text-align:center;
    }
  </style>
</head>
<body>
<button class="btn" id="btn">click</button>

<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdn.bootcss.com/rxjs/6.3.3/rxjs.umd.js"></script>
<!-- <script src="https://cdn.bootcss.com/rxjs-jquery/1.1.6/rx.jquery.min.js"></script> -->

<script>
  $(function(){

  
    console.log(rxjs.operators)
    console.log(rxjs)

    var take=rxjs.operators.take,
    debounceTime=rxjs.operators.debounceTime,
    filter=rxjs.operators.filter//过滤
    delay=rxjs.operators.delay,
    map=rxjs.operators.map,
    reduce=rxjs.operators.reduce,
    first=rxjs.operators.first,
    find=rxjs.operators.find,
    every=rxjs.operators.every,
    max=rxjs.operators.max,
    tap=rxjs.operators.tap,
    flatMap=rxjs.operators.flatMap,
    multicast=rxjs.operators.multicast,
    observeOn=rxjs.operators.observeOn,
    withLatestFrom=rxjs.operators.withLatestFrom,
    merge=rxjs.operators.merge;

    rxjs
    .fromEvent($('#btn')[0],'click')
    .pipe(debounceTime(250))
    .subscribe(function(e){
      console.log(e)
    });

    rxjs.Scheduler(function(x){
      return x
    },1000);
    console.log(rxjs.SchedulerAction(2))
    console.log(22)
    // rxjs.Observable.create(function(producer){
    //   producer.next(3)
    // })
    // .subscribe(function(x){
    //   console.log(x)
    // })
    // var subject = new rxjs.Subject();
    // console.log(subject)

    // subject.subscribe({
    //   a:'1',
    //   next:function(v){console.log('observerA: ' + v+this.a)}
    // });
    // subject.subscribe({
    //   next:(v) => console.log('observerB: ' + v)
    // });

    // subject.next(1);
    // subject.next(2);

    // var arrStream=rxjs.from('123123123');
    // rxjs.interval(1000)
    // .pipe(map(x=>{console.log(x);return x}))
    // .pipe(take(10))
    // .pipe(withLatestFrom(arrStream,arrStream))
    // .subscribe(function(x){
    //   console.log(x)
    // });

    // rxjs
    // .from(['Adrià', 'Jen', 'Sergi']) 
    // .pipe(every(function(val,index,s){
    //   console.log(val,index,s);
    //   s.subscribe(function(x) { console.log('Next: ' + x); })
    //   return val=='Jen'  ;

    // }))
    // .subscribe(
    //   function(x) { console.log('Next: ' + x); }, 
    //   function(err) { console.log('Error:', err); },
    //   function() { console.log('Completed'); }
    // )

    // var s1=rxjs.from('1');
    // var s2=rxjs.from('2');
    // var s3=rxjs.from('3');
    // var s=rxjs.from([s1,s2,[s3]]);

    // s.pipe(flatMap(function(val){
    //   return val
    // })).pipe(tap(function(val){
    //   console.log(val)
    // }))
    // .subscribe(function(val){
    //   console.log(val)
    // });

    /*console.log(rxjs.range(1,3)
    .pipe(max())
    .subscribe(function(x){
      console.log('max:'+x)
    }));*/

    /*var a = rxjs.interval(2000).pipe(map(function(i) { 
      return 'A' + i;
    }));
    var b = rxjs.interval(1000).pipe(map(function(i) {
      return 'B' + i; 
        
    }));*/
    // a.pipe(merge(b)).pipe(filter(function(x,y){
    //   return x.replace(/A|B/,'')<10;
    // })).subscribe(function(x){
    //   console.log(x)
    // })

    // var source = rxjs.from([1, 2, 3]);
    // var subject = new rxjs.Subject();
    // var multicasted = source.pipe(multicast(subject));

    // 在底层使用了 `subject.subscribe({...})`:
    // multicasted.subscribe({
    //   next: (v) => console.log('observerA: ' + v)
    // });
    // multicasted.subscribe({
    //   next: (v) => console.log('observerB: ' + v)
    // });


  })
</script>
</body>

</html>
  